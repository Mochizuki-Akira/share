<!DOCTYPE html>
<html lang="zh">
<head>
  <meta charset="UTF-8">
  <title>班课记录生成器</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    :root{
      --bg:#f7f9fb;
      --card:#fff;
      --text:#2c3e50;
      --muted:#6b7280;
      --border:#e5e7eb;
      --primary:#2563eb;
      --primary-hover:#1d4ed8;
      --sticker:#fef3c7;
      --sticker-border:#fcd34d;
    }
    *{box-sizing:border-box}
    body {
      font-family: 'Microsoft YaHei', system-ui, -apple-system, "Segoe UI", Roboto, Arial, "Noto Sans", sans-serif;
      padding: 24px;
      margin: 0;
      background-color: var(--bg);
      color: var(--text);
    }
    .container{max-width: 920px; margin: 0 auto;}
    h2 {
      color: var(--text);
      margin: 6px 0 16px;
      font-size: 1.6rem;
    }

    /* 大贴纸（日期） */
    .sticker {
      display: inline-block;
      background: var(--sticker);
      border: 1px solid var(--sticker-border);
      padding: 4px 8px;
      font-size: 13px;
      color:#92400e;
      border-radius: 6px;
      margin-bottom: 10px;
    }

    /* 小贴纸（"已经改好啦"） */
    .sticker-small {
      background: var(--sticker);
      border: 1px solid var(--sticker-border);
      padding: 2px 6px;
      font-size: 12px;
      color:#92400e;
      border-radius: 6px;
      white-space: nowrap;
    }

    /* 卡片 */
    .card{
      background: var(--card);
      border:1px solid var(--border);
      border-radius: 14px;
      padding: 18px;
      box-shadow: 0 6px 18px rgba(0,0,0,.04);
    }

    /* 表单布局 */
    .form-grid{
      display:grid;
      grid-template-columns: repeat(2, minmax(0, 1fr));
      gap: 14px 16px;
    }
    @media (max-width: 720px){
      .form-grid{ grid-template-columns: 1fr; }
      body{ padding: 16px; }
    }

    label { display:block; font-size:.95rem; color:var(--text); }

    input, textarea {
      width:100%;
      padding:10px 12px;
      margin-top:6px;
      border:1px solid var(--border);
      border-radius:10px;
      background:#fff;
      font-size:14px;
      color:var(--text);
    }

    /* 美化下拉框 */
    select {
      width: 150px;
      padding: 10px 12px;
      margin-top: 6px;
      border: 1px solid var(--border);
      border-radius: 10px;
      background: #fff;
      font-size: 14px;
      color: var(--text);
      text-align-last: right; /* ★ 名字右对齐 */
      appearance: none;
      background-image: url('data:image/svg+xml;utf8,<svg fill="%232563eb" height="20" viewBox="0 0 20 20" width="20" xmlns="http://www.w3.org/2000/svg"><path d="M5.8 7.5l4.2 4.2 4.2-4.2 1.1 1.1-5.3 5.3-5.3-5.3z"/></svg>');
      background-repeat: no-repeat;
      background-position: right 12px center;
      background-size: 16px;
    }

    select:hover {
      border-color: var(--primary);
      box-shadow: 0 0 0 3px rgba(37,99,235,.15);
    }

    /* 按钮区 */
    .actions{ display:flex; gap:10px; flex-wrap:wrap; margin-top: 6px; }
    button.action{
      padding:10px 16px; font-size:14px; border-radius:10px;
      border:1px solid var(--primary); background:var(--primary); color:#fff; cursor:pointer;
      transition: transform .02s ease, background .2s ease;
    }
    button.action:hover{ background: var(--primary-hover); }
    button.action.secondary{ background:#fff; color:var(--primary); }
    button.action:active{ transform: translateY(1px); }

    #classOutput {
      margin-top: 18px;
      white-space: pre-wrap;
      background: #fff;
      padding: 14px;
      border: 1px solid var(--border);
      border-radius: 10px;
      width: 100%;
      min-height: 80px;
    }
  </style>
</head>
<body>
  <div class="container">
    <h2>班课记录生成器</h2>

    <!-- 日期贴纸 -->
    <div id="dateSticker" class="sticker">今天是 ——</div>

    <div class="card">
      <div class="form-grid">

        <div>
          <label>课程日期：
            <input type="date" id="classDate">
          </label>
        </div>

        <!-- ★★ 老师选择区域（全部修复完毕） ★★ -->
        <div>
          <label>授课老师：</label>
          <div style="display: flex; align-items:center; gap: 6px; justify-content: flex-end; margin-top: 6px;">

            <select id="classTeacher">
              <option value="藏晓凤">藏晓凤</option>
            </select>

            <span style="font-size: 14px; color: var(--text);">老师</span>
            <span class="sticker-small">已经改好啦✓</span>
          </div>
        </div>
        <!-- ★★★★★★★★★★★★★★ -->

        <div style="grid-column: 1 / -1;">
          <label>授课内容：
            <textarea id="classContent" rows="3"></textarea>
          </label>
        </div>

        <div style="grid-column: 1 / -1;">
          <label>下节课内容：
            <textarea id="classNext" rows="3"></textarea>
          </label>
        </div>

        <div style="grid-column: 1 / -1;">
          <label>作业：
            <textarea id="classHomework" rows="3"></textarea>
          </label>
        </div>

        <div style="grid-column: 1 / -1;">
          <span class="sticker">如果需要添加固定选项（比如 xx 年过去问）我也可以加上(*^▽^*)</span>
        </div>

      </div>

      <div class="actions">
        <button class="action" onclick="generateClassRecord()">生成班课记录</button>
        <button class="action secondary" onclick="copyClassOutput()">复制</button>
      </div>

      <div id="classOutput"></div>
    </div>
  </div>

  <script>
    // 默认日期 + 星期
    window.addEventListener("DOMContentLoaded", () => {
      const t = new Date();
      const yyyy = t.getFullYear();
      const mm = String(t.getMonth() + 1).padStart(2,'0');
      const dd = String(t.getDate()).padStart(2,'0');
      document.getElementById("classDate").value = `${yyyy}-${mm}-${dd}`;
      const w = ["日","一","二","三","四","五","六"][t.getDay()];
      document.getElementById("dateSticker").textContent =
        `今天是：${yyyy}年${mm}月${dd}日（星期${w}）`;
    });

    function generateClassRecord(){
      const ymd=document.getElementById("classDate").value;
      const [yy,mo,dd]=ymd.split("-");
      const teacher=document.getElementById("classTeacher").value;
      const content=document.getElementById("classContent").value.trim();
      const next=document.getElementById("classNext").value.trim();
      const hw=document.getElementById("classHomework").value.trim();

      const text =
`课程反馈
${yy}.${mo}.${dd}
授课老师：${teacher}
授课内容：${content}
下节课内容：${next}
作业：${hw}`;

      document.getElementById("classOutput").innerText=text;

      // ★ 修改的提示语 ★
      showToast("以下内容已经自动复制好啦(*^▽^*)");
      navigator.clipboard.writeText(text);
    }

    function copyClassOutput(){
      const c=document.getElementById("classOutput").innerText.trim();
      if(!c) return showToast("⚠️ 没有内容可复制");
      navigator.clipboard.writeText(c);
      showToast("已复制！");
    }

    function showToast(msg){
      const old=document.querySelector(".custom-toast");
      if(old) old.remove();
      const div=document.createElement("div");
      div.textContent=msg;
      Object.assign(div.style,{
        position:"fixed",top:"50%",left:"50%",transform:"translate(-50%,-50%)",
        padding:"14px 22px",background:"#333",color:"#fff",borderRadius:"8px",
        zIndex:10000,opacity:0,transition:"opacity .3s",fontSize:"15px"
      });
      document.body.appendChild(div);
      requestAnimationFrame(()=>div.style.opacity=1);
      setTimeout(()=>{div.style.opacity=0;setTimeout(()=>div.remove(),300)},2200);
    }
  </script>
</body>
</html>
